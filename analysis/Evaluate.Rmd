---
title: "Evaluate Tree Crown Method Based on Segmentation Algorithms"
author: "Ben Weinstein"
date: "4/20/2018"
output: html_document
---

```{r}
library(dplyr)
library(knitr)
library(maptools)
library(TreeSegmentation)
library(ggplot2)
```

# Load in ground-truth
```{r}
shps<-list.files("/Users/ben/Dropbox/Weecology/ECODSEdataset/Task1/ITC/",pattern=".shp",full.names = T)
itcs<-lapply(shps,readShapePoly)

names(itcs)<-sapply(itcs,function(x){
  id<-unique(x$Plot_ID)
  })
print(names(itcs))
plot(ground_truth<-itcs[[1]])
```
# Find corresponding tile

```{r,webgl=TRUE}
tile<-readLAS("/Users/ben/Dropbox/Weecology/NEON/cropped_NEON_D03_OSBS_DP1_402000_3286000_classified_point_cloud.laz")
plot(tile)
```

# Silva 2016 Crown Segmentation Model

```{r}
convex_hulls<-silva2016(tile=tile)
```

#Overlay ground truth and predictions

```{r}
plot(ground_truth,col='red')
plot(convex_hulls,add=T)
```

```{r}
plot(tile)
```

